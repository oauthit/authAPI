.container
  .row
    .col-sm-12
      h1 My account
    .col-sm-12
      form(name='vm.accountForm' role='form' novalidate='' ng-submit='vm.onSubmit()')
        formly-form(model='vm.model' fields='vm.fields')
          .buttons.pull-right
            button.btn.btn-primary(
            type='submit'
            ng-disabled='vm.accountForm.$invalid'
            ng-if='vm.accountForm.$dirty'
            )
              | Save
            = ' '
            button.btn.btn-warning(
            type='button'
            ng-click='vm.onCancel(vm.accountForm)'
            ng-if='vm.accountForm.$dirty'
            )
              | Cancel changes

      h3 Organization list

      table.table.table-striped.table-hover.table-responsive(
      ng-table='vm.orgNgTableParams'
      )
        tr.clickable(
        ng-repeat='row in $data track by row.id'
        )
          td(title="'Name'")
            | {{row.name}}

      h3 Provider account list

      table.table.table-striped.table-hover.table-responsive(
      ng-table='vm.providerAccNgTableParams'
      )
        tr.clickable(
        ng-repeat='row in $data track by row.id'
        )
          td(data-title="'Profile ID'")
            | {{row.profileId}}
          td(data-title="'Display Name'")
            | {{row.profileData.displayName}}
          td(data-title="'Provider'")
            | {{row.profileData.provider}}
          td(data-title="'Roles'")
            | {{row.profileData.roles}}


      section

        h3 App list

        table.table.table-striped.table-hover.table-responsive(
        ng-table='vm.appNgTableParams'
        )
          tr.clickable(
          ng-repeat='row in $data track by row.id'
          )
            td(title="'Url'")
              a(href="{{vm.getRedirectUrl(row.url)}}" target='blank') {{row.url}}

      h3 Account
      pre {{vm.acc| json}}

      h3 ProviderAccounts
      pre {{vm.providerAccounts | json}}
